<!DOCTYPE html>
<html>
<head>
<title>Dot Game</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body style="text-align: center">
<br>
<h2>Your Points: <span id="p"></span></h2>
<div id="dotGame" style="border:1px solid black; display: inline-block; width: 200px; height: 200px; background-color: blue; border-radius: 50%" onclick="check()"></div>
<br>
<button onclick="restart()">Restart</button>
<script>
alert("Warning:\nThis game is very difficult.\nPlease don't be mad.");
var points = localStorage.dotGamePoints ? parseInt(localStorage.dotGamePoints) : 0;
document.getElementById("p").innerHTML = points;
var dot = document.getElementById("dotGame");
var to = setTimeout(function() {change();}, 2000+Math.random()*3000);
function change() {
    dot.style.backgroundColor = "green";
    setTimeout(function() {dot.style.backgroundColor = "red";}, 150+Math.random()*250);
}
function check() {
    if(dot.style.backgroundColor == "green") {
        points += 100;
        localStorage.dotGamePoints = points;
        document.getElementById("p").innerHTML = points;
        alert("+100 points");
        restart();
    } else {
        alert("failed");
    }
}
function restart() {
    clearTimeout(to);
    to = setTimeout(function() {change();}, 2000+Math.random()*3000);
    dot.style.backgroundColor = "blue";
}
</script>
</body>
</html>
