<!DOCTYPE html>
<html>
<head>
<title>Click Game</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body style="text-align: center">
<br>
<h2>Your Balance: <span id="p"></span> points</h2>
<button id="makeMoney" onclick="makeMoney()">Give Me Money!</button>
<br>

<script>
var time = localStorage.clickGameTime ? parseInt(localStorage.clickGameTime) : 0;
var points = localStorage.clickGamePoints ? parseInt(localStorage.clickGamePoints) : 0;
document.getElementById("p").innerHTML = points;

function makeMoney() {
    if(Date.now() > time + 60*60*1000) {
        localStorage.clickGameTime = Date.now();
        time = localStorage.clickGameTime;
        points += 500 + parseInt(500 * Math.random());
        localStorage.clickGamePoints = points;
    } else {
        var x = TIME((60*60*1000+time)-Date.now());
        alert("You have to wait "+x[0]+" hours, "+x[1]+" minutes, "+x[2]+" seconds, and "+x[3]+" milliseconds to use that again.");
    }
    document.getElementById("p").innerHTML = points;
}
function TIME(time) {
    var h=0, m=0, s=0;
    while(time>=60*60*1000) {
        time -= (60*60*1000);
        h++;
    }
    while(time>=60*1000) {
        time -= (60*1000);
        m++;
    }
    while(time>=1000) {
        time -= (1000);
        s++;
    }
    return [h, m, s, time];
}
</script>
    <style id="custom-style-tag"></style>
    <script>
        if(localStorage["SysFont"]) {
            document.getElementById("custom-style-tag").innerHTML = "@import url('"+JSON.parse(localStorage["SysFont"]).url+"');";
            document.body.style.fontFamily = JSON.parse(localStorage["SysFont"]).name+",'Noto Sans TC'";
        }
    </script>
</body>
</html>
